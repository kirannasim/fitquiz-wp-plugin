jQuery(document).ready(function(e) {
	$j = jQuery.noConflict();
	var i = 0,
		t = 0;
	$j("#quiz_wrapper .result_row").each(function() {
		var e = $j(this).innerHeight();
		$j(this).css("min-height", e + "px"), e > i && (i = e)
	});
	var s = 100 / $j(".result_row").length;

	var quizlength = $j(".result_row").length;
	var step_width = $j(".step_progress").css("width", s + "%");



$list = jQuery('.proglist');
var i = 0;
for (i = 0; i < quizlength; i++)
{
    $list.append('<li class="step'+i+'"></li>');
}

var listcounter = 1;
function stepFunction(){
jQuery('.proglist li').css('width', step_width+"%");
jQuery('.proglist li:nth-child(1)').addClass('stepactive sdadasdsa');	
}
stepFunction()

function quizcollength(){
setTimeout(function(){ 
var colquizfull = jQuery('.result_row.body.current .radio_container').children('.col-quiz-full');
if(colquizfull.length > 2  ){
	jQuery('.result_row.body.current .radio_container').addClass('rd-more-5');
}
else{
	jQuery('.result_row.body.current .radio_container').removeClass('rd-more-5');
}
}, 100);
}
quizcollength();

function quizchecklength(){
setTimeout(function(){ 
var colquizfull = jQuery('.result_row.body .checkbox_container').children('.col-quiz-full');
if(colquizfull.length > 2  ){
	jQuery('.result_row.body .checkbox_container').addClass('rd-more-5');
}
else{
	jQuery('.result_row.body .checkbox_container').removeClass('rd-more-5');
}
}, 100);
}
quizchecklength();
jQuery(document).on('click', '.checkbox input', function(){
if (jQuery(this).is(":checked")){
	jQuery(this).parent('label').addClass('checked-label');
}else{
    jQuery(this).parent('label').removeClass('checked-label');
}
});

jQuery(document).on('click', 'input[type="radio"]', function(){
// listcounter++;
// jQuery('.proglist li:nth-child('+listcounter+')').addClass('stepactive');
quizcollength();
})
//var listcounterDec = 5;
jQuery(document).on('click', '.actions li:first-child', function(){
//listcounter--;	
var listcountersteps = jQuery('.body.current .stepactive').length;

jQuery('.result_row.body.current .col-quiz-full .radio_label input').attr('checked', false);
jQuery('.proglist li:nth-of-type('+listcountersteps+')').removeClass('stepactive');
});



	var r = $j("#quiz-steps"),
		n = r.find("h3").length - 1,
		a = !1;
	r.steps({
		headerTag: "h3",
		bodyTag: "div",
		transitionEffect: "slideLeft",
		autoFocus: !0,
		onStepChanging: function(e, i, t) {
			return t < i && ($j(".body input").removeClass("required"), $j(".body select").removeClass("required")), r.validate({
				errorPlacement: function(e, i) {
					i.is(":radio") ? e.appendTo(i.parents(".radio_container")) : e.insertAfter(i)
				}
			}).settings.ignore = ":disabled,:hidden", r.valid()
		},
		onStepChanged: function(e, i, r) {
			var n = $j(".result_row.current").data("question");
			d(view_id, n), $j(".body input").addClass("required"), $j(".body select").addClass("required");
			var o = s * i + s;
			$j(".step_progress").css("width", o + "%"), 0 == a && (quiz_start(view_id), a = !0), t = i
		},
		onFinished: function(e, i) {
			quiz_submit()
		}
	});
	var o = $j(".result_row.current").data("question");

	function d(e, i) {
		var t = custom_vars.admin_url + "admin-ajax.php";
		$j.ajax({
			url: t,
			type: "post",
			dataType: "json",
			data: {
				action: "quiz_question",
				view_id: e,
				question_id: i
			},
			success: function(e) {}
		})
	}
	d(view_id, o), $j("#quiz_wrapper form").change(function(e) {
		if ("checkbox" === e.target.getAttribute("type")) return !1;
		t == n && ($j("#quiz-steps-p-" + t).find(".input").hasClass("contact_form") || quiz_submit());
		r.steps("next", {})
	}), r.find("div.steps").find("ul li a").addClass("no-scroll"), modal && $j("#quiz_wrapper .content").css("min-height", i + "px"), $j("#quiz_wrapper").css("visibility", "visible")
});